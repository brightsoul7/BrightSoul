<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bright Soul</title>
  <meta content="" name="description">
  <meta content="" name="keywords">

  <link href="assets/img/favicon.png" rel="icon">
  <link href="assets/img/apple-touch-icon.png" rel="apple-touch-icon">

  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,600,600i,700,700i|Raleway:300,300i,400,400i,500,500i,600,600i,700,700i|Poppins:300,300i,400,400i,500,500i,600,600i,700,700i" rel="stylesheet">

  <!-- Vendor CSS Files -->
  <link href="assets/vendor/animate.css/animate.min.css" rel="stylesheet">
  <link href="assets/vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">
  <link href="assets/vendor/bootstrap-icons/bootstrap-icons.css" rel="stylesheet">


  <!-- Template Main CSS File -->
  <link href="assets/css/style.css" rel="stylesheet">

  <style>
    /* Style for the dropdown menu */
    .dropdown {
        position: relative;
        display: inline;
    }

    /* Style for the dropdown button */
    

    /* Style for the dropdown content (hidden by default) */
    .dropdown-content {
        display: none;
        position: absolute;
        background-color: #f1f1f1;
        min-width: 160px;
        box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
        z-index: 1;
    }

    /* Style for the individual dropdown items */
    .dropdown-content a {
        color: #333;
        padding: 12px 16px;
        text-decoration: none;
        display: block;
    }

    /* Change color on hover */
    .dropdown-content a:hover {
        background-color: #ddd;
    }

    .user-menu {
      position: relative;
      display: inline-block;
    }

   
    #loggedInUserName {
      cursor: pointer;
      color: #333;
    }

    .user-menu-item a {
      color: #333; /* Set the color to match other menu items */
  }

  .user-menu:hover .user-menu-content {
      display: block;
  }

  .user-menu:hover .user-menu-username:hover + .user-menu-content {
      display: block;
  }

    
    .user-menu-content {
      display:none;
      position: absolute;
      background-color: #f1f1f1;
      min-width: 160px;
      box-shadow: 0px 8px 16px 0px rgba(0, 0, 0, 0.2);
      z-index: 1;
    }

    
    .user-menu-content a:hover {
      background-color: #ddd;
    }

  
    
    
    
    .user-menu-item a {
      color: #333; /* Set the color to match other menu items */
    }

    .user-menu:hover .user-menu-content {
      display: block;
    }
    
    .dropdown:hover .dropdown-content {
      display: block;
    }
    
    .user-menu-content,
    .dropdown-content {
      display: none;
    }
    .user-menu-username {
        font-size: 14px;
    }

    

    .forum{
            background-color: white;
            color: black;
            text-align: center;
            padding: 10px;
        }
        #chat-window {
            flex-grow: 1;
            overflow-y: auto;
            padding: 10px;
            border: 1px solid #ddd;
           
            color: white;
            
            padding: 10px;
            height: 500px;
        }
        .message {
            display: flex;
            justify-content: flex-end;
            margin-bottom: 10px;
        }
        .message-text, .media-message {
            background-color: #CAFFBF ;
            color: black;
            padding: 10px;
            border-radius: 10px;
            max-width: 60%;
        }
        .media-message img, .media-message video, .media-message iframe {
            max-width: 300px; /* Increased width */
            max-height: 300px; /* Increased height */
            height: auto;
            width: auto;
            cursor: pointer;
        }
        .forum-user-name {
            margin-right: 10px;
            font-weight: bold;
        }
        #message-input {
            display: flex;
            align-items: center;
            margin: 10px;
        }
        #message-input input[type=text] {
            flex-grow: 1;
            padding: 10px;
            margin-left: 10px;
            border: 1px solid #ddd;
        }
        #message-input button {
            padding: 10px;
        }
        #popup, #image-popup {
            display: none;
            position: fixed;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            justify-content: center;
            align-items: center;
            text-align: center;
        }
        #popup-content, #image-popup-content {
            background: white;
            padding: 20px;
            border-radius: 5px;
        }
        #image-popup-content img {
            max-width: 90%;
            max-height: 90%;
        }
        .media-message video {
    width: 100%; /* Take the full width of the container */
    height: 300px; /* Fixed height */
    object-fit: contain; /* Fit the content to the container without clipping */
    background: black; /* Provide a black background for any empty space */
}

</style>

</head>



  <!-- ======= Header ======= -->
  <header id="header" class="fixed-top d-flex align-items-center">
    <div class="container d-flex align-items-center">

      <h1 class="logo me-auto"><a href="index.html">Bright soul</a></h1>


      <nav id="navbar" class="navbar">
        <ul>
          <li><a href="index.html" >Home</a></li>

          
          <div class="dropdown">
            <a href="#">Self Help</a></li>
            <div class="dropdown-content">
                <a href="videos.html">Videos</a>
                <a href="Music.html">Music</a>
            </div> 
          </div>
       
      </style>
      <div class="dropdown">
        <a href="#">Article     </a></li>
        <div class="dropdown-content">
            <a href="blog.html">Blogs</a>
            <a href="videos.html">Videos</a>
        </div> 
    </div>  
    <li><a href="events.html"  style="padding-right:10px;">Events</a></li>
    <li><a href="Book.html">Books</a></li>    
    <li><a href="main page.html" style="padding-right:10px;">Relaxation practices</a></li>  
    <li><a href="creative space.html">Creative space</a></li>
    <li><a href="therapy.html" >Therapy</a></li>
    <li><a href="forum.html" class="active" >Forum</a></li>


    <li id="loginListItem" class="user-menu-item">
      <a href="login.html" class="getstarted" id="loginButton">Login</a>
    </li>
    <div class="user-menu">
      <span id="loggedInUserName" class="user-menu-username">Your Name</span>
      <div class="user-menu-content">
        <a href="profile.html">My Profile</a>
        <a id="logoutLink" href="#">Logout</a>
      </div>
    </div>
    
        </ul>
  <i class="bi bi-list mobile-nav-toggle"></i>
</nav><!-- .navbar -->



    </div>
  </header>
 <br><br><br><br><br>
  <div class="forum">
    <h2>Welcome to Bright Soul</h2>
</head>
<body>
    

   
  
  <div id="chat-window">
      <!-- Messages will appear here -->
  </div>
  <div id="message-input">
      <button id="file-button" disabled>Files</button>
      <input type="file" id="file-input" accept="image/*, .pdf, video/*" style="display: none;">
      <input type="text" placeholder="Type any message" id="message-box">
      <button id="send-button" disabled>Send</button>
  </div>

  <div id="popup">
      <div id="popup-content">Welcome to the chat, <span id="forum-user-name"></span>!</div>
  </div>

  <div id="image-popup">
      <div id="image-popup-content"></div>
  </div>

  <script>
      // JavaScript logic
      let userName = '';

      const messageBox = document.querySelector('#message-box');
      const sendButton = document.querySelector('#send-button');
      const fileButton = document.querySelector('#file-button');
      const fileInput = document.querySelector('#file-input');
      const chatWindow = document.querySelector('#chat-window');
      const popup = document.querySelector('#popup');
      const userNameSpan = document.querySelector('#forum-user-name');
      const imagePopup = document.querySelector('#image-popup');
      const imagePopupContent = document.querySelector('#image-popup-content');

      messageBox.addEventListener('input', function() {
          if (!userName) {
              sendButton.disabled = messageBox.value.trim() === '';
          }
      });

      sendButton.addEventListener('click', function() {
          if (!userName) {
              userName = messageBox.value.trim();
              userNameSpan.textContent = userName;
              popup.style.display = 'flex';
              setTimeout(function() {
                  popup.style.display = 'none';
              }, 1000);
              messageBox.value = '';
              messageBox.placeholder = 'Type any message';
              fileButton.disabled = false;
          } else {
              let message = messageBox.value.trim();
              if (message) {
                  chatWindow.innerHTML += `<div class="message"><span class="message-text"><span class="forum-user-name">${userName}:</span> ${message}</span></div>`;
                  messageBox.value = '';
                  chatWindow.scrollTop = chatWindow.scrollHeight;
              }
          }
      });

      fileButton.addEventListener('click', function() {
          fileInput.click();
      });

      fileInput.addEventListener('change', function() {
          if (this.files.length > 0) {
              let file = this.files[0];
              let reader = new FileReader();
              reader.onload = function(e) {
                  let mediaContent;
                  if (file.type.startsWith('image/')) {
                      mediaContent = `<img src="${e.target.result}" onclick="showImagePopup('${e.target.result}')" style="max-width: 100%; height: auto;">`;
                  } else if (file.type === 'application/pdf') {
                      mediaContent = `<iframe src="${e.target.result}" style="width:300px;height:300px;" frameborder="0"></iframe>`;
                  } else if (file.type.startsWith('video/')) {
                      mediaContent = `<video controls style="width: 300px; height: 300px;"><source src="${e.target.result}" type="${file.type}"></video>`;
                  }
                  chatWindow.innerHTML += `<div class="message"><span class="media-message"><span class="forum-user-name">${userName}:</span><br>${mediaContent}</span></div>`;
                  chatWindow.scrollTop = chatWindow.scrollHeight;
              };
              reader.readAsDataURL(file);
          }
      });

      function showImagePopup(src) {
          imagePopup.style.display = 'flex';
          imagePopupContent.innerHTML = `<img src="${src}" onclick="hideImagePopup()">`;
      }

      function hideImagePopup() {
          imagePopup.style.display = 'none';
      }

      // Click outside to close image popup
      window.onclick = function(event) {
          if (event.target === imagePopup) {
              hideImagePopup();
          }
      }
  </script>




</body>
<footer id="footer">
  <div class="footer-top">
    <div class="container">
      <div class="row">

        <div class="col-lg-3 col-md-6">
          <div class="footer-info">
            <h3>Bright soul</h3>
            <p>
             1200 dalls drive <br>
              denton texas USA<br><br>
              <strong>Phone:</strong> +1 9999999999<br>
              <strong>Email:</strong> info@example.com<br>
            </p>
            <div class="social-links mt-3">
              <a href="#" class="twitter"><i class="bx bxl-twitter"></i></a>
              <a href="#" class="facebook"><i class="bx bxl-facebook"></i></a>
              <a href="#" class="instagram"><i class="bx bxl-instagram"></i></a>
              <a href="#" class="google-plus"><i class="bx bxl-skype"></i></a>
              <a href="#" class="linkedin"><i class="bx bxl-linkedin"></i></a>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="container">
    <div class="copyright">
      &copy; Copyright <strong><span>Bright soul</span></strong>. All Rights Reserved
    </div>
    <div class="credits">
      <!-- All the links in the footer should remain intact. -->
      <!-- You can delete the links only if you purchased the pro version. -->
      <!-- Licensing information: https://bootstrapmade.com/license/ -->
      <!-- Purchase the pro version with working PHP/AJAX contact form: https://bootstrapmade.com/sailor-free-bootstrap-theme/ -->
      Designed by <a href="">Brightsoul</a>
    </div>
  </div>
</footer><!-- End Footer -->

  
  <a href="#" class="back-to-top d-flex align-items-center justify-content-center"><i class="bi bi-arrow-up-short"></i></a>
  
  <!-- Vendor JS Files -->
  <script src="assets/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>

  
  <!-- Template Main JS File -->
  <script src="assets/js/main.js"></script>
  <script>
    const isLoggedIn = localStorage.getItem('isLoggedIn');
    const userMenu = document.querySelector('.user-menu');
    const userMenuContent = document.querySelector('.user-menu-content');
  
    if (isLoggedIn === 'true') {
      // User is logged in
      const username = localStorage.getItem('loggedInUser');
      const loginButton = document.getElementById('loginButton');
      const loggedInUserName = document.getElementById('loggedInUserName');

  
      // Hide the login button and display the logged-in user's name
      loginButton.style.display = 'none';
      loggedInUserName.textContent = username;
      
      loggedInUserName.addEventListener('mouseenter', () => {
        //const userMenuContent = document.querySelector('.user-menu-content');
        userMenuContent.style.display = 'block';
      });
  
      // Add a click event for the logout link
      const logoutLink = document.getElementById('logoutLink');
      logoutLink.addEventListener('click', () => {
        localStorage.setItem('isLoggedIn', 'false');
        window.location.href = 'index.html'; 
      });
    } else {
      userMenu.style.display = 'none';
    }


userMenu.addEventListener('mouseleave', () => {
  userMenuContent.style.display = 'none';
});

document.addEventListener('DOMContentLoaded', (event) => {
  const isLoggedIn = localStorage.getItem('isLoggedIn');
  const userMenu = document.querySelector('.user-menu');
  const userMenuContent = document.querySelector('.user-menu-content');
  const registerButtons = document.querySelectorAll('.register-button'); // Select all register buttons

  registerButtons.forEach(button => {
    button.addEventListener('click', (event) => {
      // Check if user is logged in when the register button is clicked
      if (localStorage.getItem('isLoggedIn') !== 'true') {
        event.preventDefault(); // Prevent the default action
        alert('You must be logged in to register for events!'); // Show a popup alert
      }
    });
  });

  if (isLoggedIn === 'true') {
    // User is logged in
    const username = localStorage.getItem('loggedInUser');
    const loginButton = document.getElementById('loginButton');
    const loggedInUserName = document.getElementById('loggedInUserName');

    if (loginButton && loggedInUserName) {
      // Hide the login button and display the logged-in user's name
      loginButton.style.display = 'none';
      loggedInUserName.textContent = username;
    }

    if (loggedInUserName) {
      loggedInUserName.addEventListener('mouseenter', () => {
        if (userMenuContent) {
          userMenuContent.style.display = 'block';
        }
      });

      // Add a click event for the logout link
      const logoutLink = document.getElementById('logoutLink');
      if (logoutLink) {
        logoutLink.addEventListener('click', () => {
          localStorage.setItem('isLoggedIn', 'false');
          window.location.href = 'index.html';
        });
      }
    }
  } else {
    // User is not logged in
    if (userMenu) {
      userMenu.style.display = 'none';
    }
  }

  if (userMenu) {
    userMenu.addEventListener('mouseleave', () => {
      if (userMenuContent) {
        userMenuContent.style.display = 'none';
      }
    });
  }
});

  </script>
  
</body>
</html>
